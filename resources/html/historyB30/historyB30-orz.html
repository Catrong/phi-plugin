<head>
  <link rel="stylesheet" href="./historyB30.css" />
</head>

<body id="body">
  <div class="background">
    <img src="../../original_ill/illBlur/996.李化禹.png" alt="曲绘-模糊" id="bkg" />
  </div>
  <div class="title">
    <div class="playerInfo">
      <div class="blackBlock clip-box"></div>
      <div class="avatar clip-box">
        <img src="../avatar/-SURREALISM-.png" alt="{{gameuser.avatar}}" />
      </div>
      <div class="playerId">
        <p>就是不会告诉你</p>
      </div>
      <div class="rks clip-box">
        <p>14.0000</p>
      </div>
      <div class="clgBox">
        <div class="Challenge">
          <img src="../otherimg/5.png" alt="Challenge" />
          <p>54</p>
        </div>
      </div>
      <div class="date">
        <p>2025 Feb.02 00:00:00</p>
      </div>
      <div class="dataBox clip-box">
        <img src="../otherimg/data.png" alt="data" />
        <p>114PB 514GB</p>
      </div>
      <div class="spInfo colorful-background clip-box">
        <p>AP only</p>
      </div>
    </div>
  </div>
  <div class="descTip">
    <p>*B30变化仅以当前定数为准，实际历史定数敬请期待</p>
  </div>
  <div class="main-box">
    <div class="row">
      <div class="date-box">
        <div class="upLine"></div>
        <div class="midCirc">
          <div class="circInner"></div>
        </div>
        <div class="downLine"></div>
      </div>
      <div class="songs-box">
        <div class="row-date">
          <p>2024/10/00 00:00:00</p>
          <div class="underLine"></div>
        </div>
        <div class="s-song">
          <div class="ill-box">
            <div class="ill clip-box">
              <img src="https://img.moegirl.org.cn/common/f/fe/Shadow_Phigros.png" alt="ill" />
            </div>
            <div class="levelKind AT-BKG clip-box">
              <p>AT</p>
            </div>
          </div>
          <div class="tag-box">
            <div class="changeTag phiTag clip-box">
              <img src="../otherimg/phi.png" alt="phi" />
              <p>0</p>
              <div class="changeTagLine clip-box"></div>
            </div>
            <div class="changeTag b27Tag clip-box">
              <svg viewBox="0 0 1024 1024">
                <path
                  d="M564.8 465.184l4.192 3.904 274.72 274.752a32 32 0 0 1 0 45.248l-22.624 22.624a32 32 0 0 1-45.248 0l-263.456-263.392-263.424 263.392a32 32 0 0 1-42.24 2.656l-3.008-2.656-22.624-22.624a32 32 0 0 1 0-45.248l274.784-274.752a80 80 0 0 1 108.96-3.904z m0-256l4.192 3.904 274.72 274.752a32 32 0 0 1 0 45.248l-22.624 22.624a32 32 0 0 1-45.248 0l-263.456-263.392-263.424 263.392a32 32 0 0 1-42.24 2.656l-3.008-2.656-22.624-22.624a32 32 0 0 1 0-45.248l274.784-274.752a80 80 0 0 1 108.96-3.904z"
                  fill="#333333"
                  p-id="1589"
                ></path>
              </svg>
              <p>00</p>
              <div class="changeTagLine clip-box"></div>
            </div>
          </div>
        </div>
        <div class="s-song">
          <div class="ill-box">
            <div class="ill clip-box">
              <img src="https://img.moegirl.org.cn/common/f/fe/Shadow_Phigros.png" alt="ill" />
            </div>
            <div class="levelKind AT-BKG clip-box">
              <p>AT</p>
            </div>
          </div>
          <div class="tag-box">
            <div class="changeTag exitTag clip-box">
              <img src="../otherimg/phi.png" alt="phi" />
              <div class="changeTagLine clip-box"></div>
            </div>
            <div class="changeTag exitTag clip-box">
              <svg viewBox="0 0 1024 1024">
                <path
                  d="M564.8 465.184l4.192 3.904 274.72 274.752a32 32 0 0 1 0 45.248l-22.624 22.624a32 32 0 0 1-45.248 0l-263.456-263.392-263.424 263.392a32 32 0 0 1-42.24 2.656l-3.008-2.656-22.624-22.624a32 32 0 0 1 0-45.248l274.784-274.752a80 80 0 0 1 108.96-3.904z m0-256l4.192 3.904 274.72 274.752a32 32 0 0 1 0 45.248l-22.624 22.624a32 32 0 0 1-45.248 0l-263.456-263.392-263.424 263.392a32 32 0 0 1-42.24 2.656l-3.008-2.656-22.624-22.624a32 32 0 0 1 0-45.248l274.784-274.752a80 80 0 0 1 108.96-3.904z"
                  fill="#333333"
                  p-id="1589"
                ></path>
              </svg>
              <div class="changeTagLine clip-box"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="createdbox">
    <div class="phi-plugin">
      <p>{{_plugin}}</p>
    </div>
    <div class="ver">
      <p>v0.9.4</p>
    </div>
  </div>

  <!-- 曲目名称自适应name-box的宽度 -->
  <script>
    function adjustFontSize() {
      //获取p元素
      let a = document.getElementsByName("pvis")
      for (let i = 0; i < a.length; ++i) {
        let songName = a[i]

        if (!songName) continue

        /*调整曲目名称字体大小*/
        let parentElement = songName.parentElement
        let maxFontSize = 100 //设置最大字体大小
        songName.style.fontSize = maxFontSize + "px"

        // 如果字体宽度大于父元素宽度，则减小字体大小
        let fontSize = maxFontSize
        songName.style.fontSize = fontSize + "px"

        // 使用倍增算法快速减小字体大小
        while (
          songName.scrollWidth > parentElement.offsetWidth ||
          songName.scrollHeight > parentElement.offsetHeight
        ) {
          fontSize = Math.floor(fontSize / 2)
          songName.style.fontSize = fontSize + "px"
        }

        // 逐步增加字体大小，找到最合适的大小
        while (
          songName.scrollWidth <= parentElement.offsetWidth &&
          songName.scrollHeight <= parentElement.offsetHeight &&
          fontSize < maxFontSize
        ) {
          fontSize += 1
          songName.style.fontSize = fontSize + "px"
        }

        // 回退到合适的字体大小
        songName.style.fontSize = fontSize - 1 + "px"
      }
    }
    window.onload = adjustFontSize
    window.onresize = adjustFontSize
  </script>
</body>
